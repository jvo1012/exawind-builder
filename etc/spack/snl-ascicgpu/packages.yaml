packages:
  all:
    compiler:
      - gcc
    providers:
      mpi:
        - openmpi
    variants: +mpi build_type=Release
  openmpi:
    version: [4.0.2]
    buildable: false
    externals:
      - spec: "openmpi@4.0.2%gcc"
        modules:
          - sierra-mpi/openmpi/4.0.2
      - spec: "openmpi@4.0.3%gcc"
        modules:
          - sierra-mpi/openmpi/4.0.3
  cmake:
    buildable: false
    externals:
      - spec: "cmake@3.12.2%gcc"
        modules:
          - sierra-cmake/3.12.2
  pkg-config:
    buildable: false
    externals:
      - spec: "pkg-config@0.29.2%gcc"
        prefix: /usr/bin/pkg-config
  hdf5:
    version: [1.10.6]
    variants: +mpi+cxx+hl~shared
  cuda:
    version: [10.1.243]
    buildable: false
    externals:
      - spec: "cuda@9.2.148%gcc"
        modules: 
          - sierra-compiler/nvidia/10.1.243
      - spec: "cuda@10.1.243%gcc"
        modules: 
          - sierra-compiler/nvidia/10.1.243
      - spec: "cuda@10.2.89%gcc"
        modules: 
          - sierra-compiler/nvidia/10.2.89
  python:
    version: [3.6.10]
    buildable: false
    externals:
      - spec: "python@3.6.10"
        modules: 
          - sierra-python/3.6.10
      - spec: "python@2.7.10"
        modules: 
          - /projects/sierra/linux_rh6/install/Python/2.7/
  zlib:
    version: [1.2.5]
    buildable: false
    externals:
      - spec: "zlib@1.2.5%gcc"
        prefix: /usr/
  bzip2:
    version: [1.6.0]
    buildable: false
    externals:
      - spec: "bzip2@1.6.0%gcc"
        prefix: /usr/
